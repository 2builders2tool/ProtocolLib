<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Fri Dec 27 05:35:59 CET 2013 -->
<title>SafeCacheBuilder</title>
<meta name="date" content="2013-12-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SafeCacheBuilder";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SafeCacheBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/comphenix/protocol/utility/MinecraftVersion.html" title="class in com.comphenix.protocol.utility"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/comphenix/protocol/utility/SnapshotVersion.html" title="class in com.comphenix.protocol.utility"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/comphenix/protocol/utility/SafeCacheBuilder.html" target="_top">Frames</a></li>
<li><a href="SafeCacheBuilder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.comphenix.protocol.utility</div>
<h2 title="Class SafeCacheBuilder" class="title">Class SafeCacheBuilder&lt;K,V&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.comphenix.protocol.utility.SafeCacheBuilder&lt;K,V&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">SafeCacheBuilder&lt;K,V&gt;</span>
extends java.lang.Object</pre>
<div class="block">Represents a Guava CacheBuilder that is compatible with both Guava 10 and 13.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Kristian</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;K1 extends <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,V1 extends <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;<br>java.util.concurrent.ConcurrentMap&lt;K1,V1&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#build(com.google.common.cache.CacheLoader)">build</a></strong>(com.google.common.cache.CacheLoader&lt;? super K1,V1&gt;&nbsp;loader)</code>
<div class="block">Returns the cache wrapped as a ConcurrentMap.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#concurrencyLevel(int)">concurrencyLevel</a></strong>(int&nbsp;concurrencyLevel)</code>
<div class="block">Guides the allowed concurrency among update operations.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#expireAfterAccess(long, java.util.concurrent.TimeUnit)">expireAfterAccess</a></strong>(long&nbsp;duration,
                 java.util.concurrent.TimeUnit&nbsp;unit)</code>
<div class="block">Specifies that each entry should be automatically removed from the cache
 once a fixed duration has elapsed after the entry's creation, or last
 access.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#expireAfterWrite(long, java.util.concurrent.TimeUnit)">expireAfterWrite</a></strong>(long&nbsp;duration,
                java.util.concurrent.TimeUnit&nbsp;unit)</code>
<div class="block">Specifies that each entry should be automatically removed from the cache
 once a fixed duration has elapsed after the entry's creation, or the most
 recent replacement of its value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#initialCapacity(int)">initialCapacity</a></strong>(int&nbsp;initialCapacity)</code>
<div class="block">Sets the minimum total size for the internal hash tables.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#maximumSize(int)">maximumSize</a></strong>(int&nbsp;size)</code>
<div class="block">Specifies the maximum number of entries the cache may contain.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;K,V&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#newBuilder()">newBuilder</a></strong>()</code>
<div class="block">Construct a new safe cache builder.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;K1 extends <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,V1 extends <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;<br><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;K1,V1&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#removalListener(com.google.common.cache.RemovalListener)">removalListener</a></strong>(com.google.common.cache.RemovalListener&lt;? super K1,? super V1&gt;&nbsp;listener)</code>
<div class="block">Specifies a listener instance, which all caches built using this
 <code>CacheBuilder</code> will notify each time an entry is removed from the
 cache by any means.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#softValues()">softValues</a></strong>()</code>
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped
 in a <code>SoftReference</code> (by default, strong references are used).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#ticker(com.google.common.base.Ticker)">ticker</a></strong>(com.google.common.base.Ticker&nbsp;ticker)</code>
<div class="block">Specifies a nanosecond-precision time source for use in determining when
 entries should be expired.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#weakKeys()">weakKeys</a></strong>()</code>
<div class="block">Specifies that each key (not value) stored in the cache should be wrapped
 in a <code>WeakReference</code> (by default, strong references are used).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#weakValues()">weakValues</a></strong>()</code>
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped
 in a <code>WeakReference</code> (by default, strong references are used).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newBuilder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBuilder</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;K,V&gt;&nbsp;newBuilder()</pre>
<div class="block">Construct a new safe cache builder.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A new cache builder.</dd></dl>
</li>
</ul>
<a name="concurrencyLevel(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>concurrencyLevel</h4>
<pre>public&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;concurrencyLevel(int&nbsp;concurrencyLevel)</pre>
<div class="block">Guides the allowed concurrency among update operations. Used as a hint
 for internal sizing. The table is internally partitioned to try to permit
 the indicated number of concurrent updates without contention. Because
 assignment of entries to these partitions is not necessarily uniform, the
 actual concurrency observed may vary. Ideally, you should choose a value
 to accommodate as many threads as will ever concurrently modify the
 table. Using a significantly higher value than you need can waste space
 and time, and a significantly lower value can lead to thread contention.
 But overestimates and underestimates within an order of magnitude do not
 usually have much noticeable impact. A value of one permits only one
 thread to modify the cache at a time, but since read operations can
 proceed concurrently, this still yields higher concurrency than full
 synchronization. Defaults to 4.
 
 <p>
 <b>Note:</b>The default may change in the future. If you care about this
 value, you should always choose it explicitly.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>concurrencyLevel</code> is
             nonpositive</dd>
<dd><code>java.lang.IllegalStateException</code> - if a concurrency level was already set</dd></dl>
</li>
</ul>
<a name="expireAfterAccess(long, java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireAfterAccess</h4>
<pre>public&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;expireAfterAccess(long&nbsp;duration,
                                      java.util.concurrent.TimeUnit&nbsp;unit)</pre>
<div class="block">Specifies that each entry should be automatically removed from the cache
 once a fixed duration has elapsed after the entry's creation, or last
 access. Access time is reset by <code>Cache.get()</code> and
 <code>Cache.getUnchecked()</code>, 
 but not by operations on the view returned by
 <code>Cache.asMap()</code>.
 
 <p>
 When <code>duration</code> is zero, elements will be evicted immediately after
 being loaded into the cache. This has the same effect as invoking
 <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#maximumSize(int)"><code>maximumSize</code></a><code>(0)</code>. It can be useful in testing,
 or to disable caching temporarily without a code change.
 
 <p>
 Expired entries may be counted by <code>Cache.size()</code>, but will never be
 visible to read or write operations. Expired entries are currently
 cleaned up during write operations, or during occasional read operations
 in the absense of writes; though this behavior may change in the future.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>duration</code> - the length of time after an entry is last accessed that
            it should be automatically removed</dd><dd><code>unit</code> - the unit that <code>duration</code> is expressed in</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>duration</code> is negative</dd>
<dd><code>java.lang.IllegalStateException</code> - if the time to idle or time to live was
             already set</dd></dl>
</li>
</ul>
<a name="expireAfterWrite(long, java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireAfterWrite</h4>
<pre>public&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;expireAfterWrite(long&nbsp;duration,
                                     java.util.concurrent.TimeUnit&nbsp;unit)</pre>
<div class="block">Specifies that each entry should be automatically removed from the cache
 once a fixed duration has elapsed after the entry's creation, or the most
 recent replacement of its value.
 
 <p>
 When <code>duration</code> is zero, elements will be evicted immediately after
 being loaded into the cache. This has the same effect as invoking
 <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#maximumSize(int)"><code>maximumSize</code></a><code>(0)</code>. It can be useful in testing,
 or to disable caching temporarily without a code change.
 
 <p>
 Expired entries may be counted by <code>Cache.size()</code>, but will never be
 visible to read or write operations. Expired entries are currently
 cleaned up during write operations, or during occasional read operations
 in the absense of writes; though this behavior may change in the future.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>duration</code> - the length of time after an entry is created that it
            should be automatically removed</dd><dd><code>unit</code> - the unit that <code>duration</code> is expressed in</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>duration</code> is negative</dd>
<dd><code>java.lang.IllegalStateException</code> - if the time to live or time to idle was
             already set</dd></dl>
</li>
</ul>
<a name="initialCapacity(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialCapacity</h4>
<pre>public&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;initialCapacity(int&nbsp;initialCapacity)</pre>
<div class="block">Sets the minimum total size for the internal hash tables. For example, if
 the initial capacity is <code>60</code>, and the concurrency level is
 <code>8</code>, then eight segments are created, each having a hash table of
 size eight. Providing a large enough estimate at construction time avoids
 the need for expensive resizing operations later, but setting this value
 unnecessarily high wastes memory.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>initialCapacity</code> is negative</dd>
<dd><code>java.lang.IllegalStateException</code> - if an initial capacity was already set</dd></dl>
</li>
</ul>
<a name="maximumSize(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maximumSize</h4>
<pre>public&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;maximumSize(int&nbsp;size)</pre>
<div class="block">Specifies the maximum number of entries the cache may contain. Note that
 the cache <b>may evict an entry before this limit is exceeded</b>. As the
 cache size grows close to the maximum, the cache evicts entries that are
 less likely to be used again. For example, the cache may evict an entry
 because it hasn't been used recently or very often.
 
 <p>
 When <code>size</code> is zero, elements will be evicted immediately after
 being loaded into the cache. This has the same effect as invoking
 <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#expireAfterWrite(long, java.util.concurrent.TimeUnit)"><code>expireAfterWrite</code></a><code>(0, unit)</code> or
 <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#expireAfterAccess(long, java.util.concurrent.TimeUnit)"><code>expireAfterAccess</code></a><code>(0,
 unit)</code>. It can be useful in testing, or to disable caching temporarily
 without a code change.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>size</code> - the maximum size of the cache</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>size</code> is negative</dd>
<dd><code>java.lang.IllegalStateException</code> - if a maximum size was already set</dd></dl>
</li>
</ul>
<a name="removalListener(com.google.common.cache.RemovalListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removalListener</h4>
<pre>public&nbsp;&lt;K1 extends <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,V1 extends <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;K1,V1&gt;&nbsp;removalListener(com.google.common.cache.RemovalListener&lt;? super K1,? super V1&gt;&nbsp;listener)</pre>
<div class="block">Specifies a listener instance, which all caches built using this
 <code>CacheBuilder</code> will notify each time an entry is removed from the
 cache by any means.
 
 <p>
 Each cache built by this <code>CacheBuilder</code> after this method is called
 invokes the supplied listener after removing an element for any reason
 (see removal causes in <code>RemovalCause</code>). It will invoke the listener
 during invocations of any of that cache's public methods (even read-only
 methods).
 
 <p>
 <b>Important note:</b> Instead of returning <em>this</em> as a
 <code>CacheBuilder</code> instance, this method returns
 <code>CacheBuilder&lt;K1, V1&gt;</code>. From this point on, either the original
 reference or the returned reference may be used to complete configuration
 and build the cache, but only the "generic" one is type-safe. That is, it
 will properly prevent you from building caches whose key or value types
 are incompatible with the types accepted by the listener already
 provided; the <code>CacheBuilder</code> type cannot do this. For best results,
 simply use the standard method-chaining idiom, as illustrated in the
 documentation at top, configuring a <code>CacheBuilder</code> and building
 your <code>Cache</code> all in a single statement.
 
 <p>
 <b>Warning:</b> if you ignore the above advice, and use this
 <code>CacheBuilder</code> to build a cache whose key or value type is
 incompatible with the listener, you will likely experience a
 <code>ClassCastException</code> at some <i>undefined</i> point in the future.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if a removal listener was already set</dd></dl>
</li>
</ul>
<a name="ticker(com.google.common.base.Ticker)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ticker</h4>
<pre>public&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;ticker(com.google.common.base.Ticker&nbsp;ticker)</pre>
<div class="block">Specifies a nanosecond-precision time source for use in determining when
 entries should be expired. By default, <code>System.nanoTime()</code> is used.
 
 <p>
 The primary intent of this method is to facilitate testing of caches
 which have been configured with <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#expireAfterWrite(long, java.util.concurrent.TimeUnit)"><code>expireAfterWrite(long, java.util.concurrent.TimeUnit)</code></a> or
 <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#expireAfterAccess(long, java.util.concurrent.TimeUnit)"><code>expireAfterAccess(long, java.util.concurrent.TimeUnit)</code></a>.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if a ticker was already set</dd></dl>
</li>
</ul>
<a name="softValues()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>softValues</h4>
<pre>public&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;softValues()</pre>
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped
 in a <code>SoftReference</code> (by default, strong references are used).
 Softly-referenced objects will be garbage-collected in a <i>globally</i>
 least-recently-used manner, in response to memory demand.
 
 <p>
 <b>Warning:</b> in most circumstances it is better to set a per-cache
 <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#maximumSize(int)">maximum size</a> instead of using soft references.
 You should only use this method if you are well familiar with the
 practical consequences of soft references.
 
 <p>
 <b>Note:</b> when this method is used, the resulting cache will use
 identity (<code>==</code>) comparison to determine equality of values.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the value strength was already set</dd></dl>
</li>
</ul>
<a name="weakKeys()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>weakKeys</h4>
<pre>public&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;weakKeys()</pre>
<div class="block">Specifies that each key (not value) stored in the cache should be wrapped
 in a <code>WeakReference</code> (by default, strong references are used).
 
 <p>
 <b>Warning:</b> when this method is used, the resulting cache will use
 identity (<code>==</code>) comparison to determine equality of keys.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the key strength was already set</dd></dl>
</li>
</ul>
<a name="weakValues()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>weakValues</h4>
<pre>public&nbsp;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;weakValues()</pre>
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped
 in a <code>WeakReference</code> (by default, strong references are used).
 
 <p>
 Weak values will be garbage collected once they are weakly reachable.
 This makes them a poor candidate for caching; consider
 <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html#softValues()"><code>softValues()</code></a> instead.
 
 <p>
 <b>Note:</b> when this method is used, the resulting cache will use
 identity (<code>==</code>) comparison to determine equality of values.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the value strength was already set</dd></dl>
</li>
</ul>
<a name="build(com.google.common.cache.CacheLoader)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>build</h4>
<pre>public&nbsp;&lt;K1 extends <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,V1 extends <a href="../../../../com/comphenix/protocol/utility/SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;&nbsp;java.util.concurrent.ConcurrentMap&lt;K1,V1&gt;&nbsp;build(com.google.common.cache.CacheLoader&lt;? super K1,V1&gt;&nbsp;loader)</pre>
<div class="block">Returns the cache wrapped as a ConcurrentMap.
 <>
 We can't return the direct Cache instance as it changed in Guava 13.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The cache as a map.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SafeCacheBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/comphenix/protocol/utility/MinecraftVersion.html" title="class in com.comphenix.protocol.utility"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/comphenix/protocol/utility/SnapshotVersion.html" title="class in com.comphenix.protocol.utility"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/comphenix/protocol/utility/SafeCacheBuilder.html" target="_top">Frames</a></li>
<li><a href="SafeCacheBuilder.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
